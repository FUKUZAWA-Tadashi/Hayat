<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
	<link rel="stylesheet" href="../default.css" type="text/css" />
	<title>Enumerable クラス</title>
  </head>
  <body>

	<a href="../index.html">Hayatリファレンスマニュアル トップページ</a>
	<hr>

	<h1>標準ライブラリ stdlib</h1>

	<h2>Enumerable</h2>
	ファイバを返す <code>each()</code>メソッド を持つクラスを拡張する。
	<br>他のクラスに継承される事によって使用される。
	<br>メンバ変数を持たない。
	<br>newによるインスタンス生成はできない。


	<h3>演算子</h3>

	<table>
	  <tr>
		<td class="code">-&gt;</td>
		<td>each(f) と同じ。</td>
	  </tr>
	</table>

	<h3>インスタンスメソッド</h3>

	<dl>
	  <dt>each(f)</dt>
	  <dd>単純な繰り返し。
		クロージャ f に次々と値を渡し、繰り返す。
<pre>
x.each{|y| …}
</pre>
		という使い方が典型的。
	  </dd>

	  <dt>toArray()</dt>
	  <dd>全ての値を配列に入れて返す。</dd>

	  <dt>toList()</dt>
	  <dd>全ての値をリストに入れて返す。</dd>

	  <dt>map(f)</dt>
	  <dd>それぞれの値にクロージャ f を適用する。
<pre>
[1,2,3].map{|x| x * 2}.toArray()    // =&gt; [2,4,6]
</pre>
	  </dd>

	  <dt>filter(f)</dt>
	  <dd>それぞれの値にクロージャ f を適用して、
		戻り値が真であるような値だけ残す。
<pre>
[1,2,3,4,5].filter{|x| x % 2 == 0}.toArray()   // =&gt; [2,4]
</pre>
	  </dd>

	  <dt>take(n)</dt>
	  <dd>先頭から最大 n 個を取り出す。
<pre>
[1,2,3,4,5].take(3).toArray()   // =&gt; [1,2,3]
</pre>
	  </dd>

	  <dt>find(f)</dt>
	  <dd>クロージャ f に渡して戻り値が真であるような最初の値を返す。
<pre>
[1,2,3,4,5].filter{|x| x % 2 == 0}   // =&gt; 2
</pre>
	  </dd>

	  <dt>count()</dt>
	  <dd>nilでないものの個数を数える。
	  </dd>

	  <dt>count(x)</dt>
	  <dd>x がクロージャの場合は、値をクロージャ
		に渡して真となるものの個数を数えて返す。
		x がクロージャでない場合は、x と <code>==</code> 演算子で
		比較して真となるものの個数を数えて返す。
	  </dd>

	  <dt>index(x)</dt>
	  <dd>x がクロージャの場合は、値をクロージャ
		に渡して真となる最初のものが先頭から何番目であるかを返す。
		x がクロージャでない場合は、x と <code>==</code> 演算子で
		比較して真となるものが先頭から何番目であるかを返す。
		先頭が 0 番目であると数える。
	  </dd>

	  <dt>most()</dt>
	  <dd>値を <code>&gt;</code>演算子で比較し、
		最大である値を返す。
	  </dd>

	  <dt>most(f)</dt>
	  <dd>値を クロージャ f を使って次々と比較し、
		残った値を返す。
<pre>
[3,1,4,1,5,9,2].most{|x,y| x < y}   // =&gt; 1
[3,1,4,1,5,9,2].most{|x,y| x > y}   // =&gt; 9
</pre>
	  </dd>

	  <dt>flatten()</dt>
	  <dd>中身を1つずつ取り出すが、それがflatten()を持つオブジェクト
		であれば再帰的にflatten()を呼び出してさらに中身を取り出す。
<pre>
[1,[2,3],[[4],[[5],6]],7].flatten().toArray()   // =&gt; [1,2,3,4,5,6,7]
</pre>
	  </dd>

	</dl>

	<hr>
	<a href="../index.html">Hayatリファレンスマニュアル トップページ</a>

  </body>
</html>
